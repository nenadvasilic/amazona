{"version":3,"sources":["Store.js","components/MessageBox.js","screens/CartScreen.js","components/Rating.js","components/Product.js","components/LoadingBox.js","screens/HomeScreen.js","utils.js","screens/ProductScreen.js","screens/SigninScreen.js","components/CheckoutSteps.js","screens/ShippingAddressScreen.js","screens/SignupScreen.js","screens/PaymentMethodScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/OrderHistoryScreen.js","screens/ProfileScreen.js","App.js","index.js"],"names":["Store","createContext","initialState","userInfo","localStorage","getItem","JSON","parse","cart","shippingAddress","paymentMethod","cartItems","reducer","state","action","type","newItem","payload","existItem","find","item","_id","map","setItem","stringify","filter","StoreProvider","props","useReducer","value","dispatch","Provider","children","MessageBox","Alert","variant","CartScreen","navigate","useNavigate","useContext","ctxDispatch","updateCartHandler","quantity","a","axios","get","data","countInStock","window","alert","Row","Col","md","length","to","ListGroup","Item","className","src","image","alt","name","slug","Button","onClick","disabled","price","removeItemHandler","Card","Body","reduce","c","Rating","rating","numReviews","Product","product","addToCartHandler","x","Title","Text","LoadingBox","Spinner","animation","role","loading","products","error","HomeScreen","logger","useEffect","fetchData","result","message","sm","lg","getError","response","ProductScreen","useParams","description","Badge","bg","SigninScreen","search","useLocation","redirectInUrl","URLSearchParams","redirect","useState","email","setEmail","password","setPassword","submitHandler","e","preventDefault","Axios","post","toast","Container","Form","onSubmit","Group","controlId","Label","Control","required","onChange","target","CheckoutSteps","step1","step2","step3","step4","ShippingAddressScreen","fullName","setFullName","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","SignupScreen","setName","confirmPassword","setConfirmPassword","PaymentMethodScreen","paymentMethodName","setPaymentMethod","Check","id","label","checked","PlaceOrderScreen","round2","num","Math","round","Number","EPSILON","itemsPrice","shippingPrice","taxPrice","totalPrice","placeOrderHandler","orderItems","headers","authorization","token","removeItem","order","toFixed","loadingPay","successPay","OrderScreen","orderId","usePayPalScriptReducer","isPending","paypalDispatch","fetchOrder","loadPaypalScript","clientId","currency","isDelivered","deliveredAt","isPaid","paidAt","createOrder","actions","create","purchase_units","amount","then","orderID","onApprove","capture","details","put","success","onError","err","orders","OrderHistoryScreen","Authorization","createdAt","substring","loadingUpdate","ProfileScreen","App","position","limit","Navbar","expand","Brand","Toggle","Collapse","Nav","pill","NavDropdown","title","Divider","location","href","path","element","ReactDOM","render","StrictMode","deferLoading","document","getElementById"],"mappings":"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","file":"static/js/main.bbbc669d.chunk.js","sourcesContent":["import { createContext, useReducer } from \"react\";\r\n\r\nexport const Store = createContext();\r\n\r\nconst initialState = {\r\n  userInfo: localStorage.getItem(\"userInfo\")\r\n    ? JSON.parse(localStorage.getItem(\"userInfo\"))\r\n    : null,\r\n\r\n  cart: {\r\n    shippingAddress: localStorage.getItem(\"shippingAddress\")\r\n      ? JSON.parse(localStorage.getItem(\"shippingAddress\"))\r\n      : {},\r\n\r\n    paymentMethod: localStorage.getItem(\"paymentMethod\")\r\n      ? localStorage.getItem(\"paymentMethod\")\r\n      : \"\",\r\n\r\n    cartItems: localStorage.getItem(\"cartItems\")\r\n      ? JSON.parse(localStorage.getItem(\"cartItems\"))\r\n      : [],\r\n  },\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"CART_ADD_ITEM\":\r\n      const newItem = action.payload;\r\n      const existItem = state.cart.cartItems.find(\r\n        (item) => item._id === newItem._id\r\n      );\r\n      const cartItems = existItem\r\n        ? state.cart.cartItems.map((item) =>\r\n            item._id === existItem._id ? newItem : item\r\n          )\r\n        : [...state.cart.cartItems, newItem];\r\n\r\n      localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n\r\n      return { ...state, cart: { ...state.cart, cartItems } };\r\n\r\n    case \"CART_REMOVE_ITEM\": {\r\n      const cartItems = state.cart.cartItems.filter(\r\n        (item) => item._id !== action.payload._id\r\n      );\r\n\r\n      localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n\r\n      return { ...state, cart: { ...state.cart, cartItems } };\r\n    }\r\n\r\n    case \"CART_CLEAR\":\r\n      return { ...state, cart: { ...state.cart, cartItems: [] } };\r\n\r\n    case \"USER_SIGNIN\":\r\n      return { ...state, userInfo: action.payload };\r\n\r\n    case \"USER_SIGNOUT\":\r\n      return {\r\n        ...state,\r\n        userInfo: null,\r\n        cart: {\r\n          cartItems: [],\r\n          shippingAddress: {},\r\n          paymentMethod: \"\",\r\n        },\r\n      };\r\n\r\n    case \"SAVE_SHIPPING_ADDRESS\":\r\n      return {\r\n        ...state,\r\n        cart: {\r\n          ...state.cart,\r\n          shippingAddress: action.payload,\r\n        },\r\n      };\r\n\r\n    case \"SAVE_PAYMENT_METHOD\":\r\n      return {\r\n        ...state,\r\n        cart: { ...state.cart, paymentMethod: action.payload },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function StoreProvider(props) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const value = { state, dispatch };\r\n\r\n  return <Store.Provider value={value}>{props.children}</Store.Provider>;\r\n}\r\n","import { Alert } from \"react-bootstrap\";\r\n\r\nexport default function MessageBox(props) {\r\n  return <Alert variant={props.variant || \"info\"}>{props.children}</Alert>;\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Button, Card, Col, ListGroup, Row } from \"react-bootstrap\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { Store } from \"../Store\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport axios from \"axios\";\r\n\r\nexport default function CartScreen() {\r\n  const navigate = useNavigate();\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const {\r\n    cart: { cartItems },\r\n  } = state;\r\n\r\n  const updateCartHandler = async (item, quantity) => {\r\n    const { data } = await axios.get(`/api/products/${item._id}`);\r\n\r\n    if (data.countInStock < quantity) {\r\n      window.alert(\"Sorry. Product is out of stock\");\r\n      return;\r\n    }\r\n    ctxDispatch({\r\n      type: \"CART_ADD_ITEM\",\r\n      payload: { ...item, quantity },\r\n    });\r\n  };\r\n\r\n  const removeItemHandler = (item) => {\r\n    ctxDispatch({ type: \"CART_REMOVE_ITEM\", payload: item });\r\n  };\r\n\r\n  const checkoutHandler = () => {\r\n    navigate(\"/signin?redirect=/shipping\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Shopping Cart</title>\r\n      </Helmet>\r\n      <h1>Shopping Cart</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          {cartItems.length === 0 ? (\r\n            <MessageBox>\r\n              Cart is empty. <Link to=\"/\">Go Shopping</Link>\r\n            </MessageBox>\r\n          ) : (\r\n            <ListGroup>\r\n              {cartItems.map((item) => (\r\n                <ListGroup.Item key={item._id}>\r\n                  <Row className=\"align-items-center\">\r\n                    <Col md={4}>\r\n                      <img\r\n                        src={item.image}\r\n                        alt={item.name}\r\n                        className=\"img-fluid rounded img-thumbnail\"\r\n                      ></img>{\" \"}\r\n                      <Link to={`/product/${item.slug}`}>{item.name}</Link>\r\n                    </Col>\r\n                    <Col md={3}>\r\n                      <Button\r\n                        onClick={() =>\r\n                          updateCartHandler(item, item.quantity - 1)\r\n                        }\r\n                        variant=\"light\"\r\n                        disabled={item.quantity === 1}\r\n                      >\r\n                        <i className=\"fas fa-minus-circle\"></i>\r\n                      </Button>{\" \"}\r\n                      <span>{item.quantity}</span>{\" \"}\r\n                      <Button\r\n                        variant=\"light\"\r\n                        onClick={() =>\r\n                          updateCartHandler(item, item.quantity + 1)\r\n                        }\r\n                        disabled={item.quantity === item.countInStock}\r\n                      >\r\n                        <i className=\"fas fa-plus-circle\"></i>\r\n                      </Button>\r\n                    </Col>\r\n                    <Col md={3}>${item.price}</Col>\r\n                    <Col md={2}>\r\n                      <Button\r\n                        onClick={() => removeItemHandler(item)}\r\n                        variant=\"light\"\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          )}\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <Card.Body>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <h3>\r\n                    Subtotal ({cartItems.reduce((a, c) => a + c.quantity, 0)}{\" \"}\r\n                    items) : $\r\n                    {cartItems.reduce((a, c) => a + c.price * c.quantity, 0)}\r\n                  </h3>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <div className=\"d-grid\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"primary\"\r\n                      onClick={checkoutHandler}\r\n                      disabled={cartItems.length === 0}\r\n                    >\r\n                      Proceed to Checkout\r\n                    </Button>\r\n                  </div>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","function Rating(props) {\r\n  const { rating, numReviews } = props;\r\n\r\n  return (\r\n    <div className=\"rating\">\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 1\r\n              ? \"fas fa-star\"\r\n              : rating >= 0.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        />\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 2\r\n              ? \"fas fa-star\"\r\n              : rating >= 1.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        />\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 3\r\n              ? \"fas fa-star\"\r\n              : rating >= 2.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        />\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 4\r\n              ? \"fas fa-star\"\r\n              : rating >= 3.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        />\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 5\r\n              ? \"fas fa-star\"\r\n              : rating >= 4.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        />\r\n      </span>\r\n      <span> {numReviews} reviews</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rating;\r\n","import axios from \"axios\";\r\nimport { useContext } from \"react\";\r\nimport { Button, Card } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Rating from \"./Rating\";\r\nimport { Store } from \"../Store\";\r\n\r\nfunction Product(props) {\r\n  const { product } = props;\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const {\r\n    cart: { cartItems },\r\n  } = state;\r\n\r\n  const addToCartHandler = async (item) => {\r\n    const existItem = cartItems.find((x) => x._id === product._id);\r\n    const quantity = existItem ? existItem.quantity + 1 : 1;\r\n    const { data } = await axios.get(`/api/products/${item._id}`);\r\n    if (data.countInStock < quantity) {\r\n      window.alert(\"Sorry, product is out of stock.\");\r\n      return;\r\n    }\r\n    ctxDispatch({\r\n      type: \"CART_ADD_ITEM\",\r\n      payload: { ...item, quantity },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <Link to={`/product/${product.slug}`}>\r\n        <img src={product.image} className=\"card-img-top\" alt={product.name} />\r\n      </Link>\r\n      <Card.Body>\r\n        <Link to={`/product/${product.slug}`}>\r\n          <Card.Title>{product.name}</Card.Title>\r\n        </Link>\r\n        <Rating rating={product.rating} numReviews={product.numReviews} />\r\n        <Card.Text>${product.price}</Card.Text>\r\n        {product.countInStock === 0 ? (\r\n          <Button variant=\"light\" disabled>\r\n            Out of stock\r\n          </Button>\r\n        ) : (\r\n          <Button onClick={() => addToCartHandler(product)}>Add to cart</Button>\r\n        )}\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import { Spinner } from \"react-bootstrap\";\r\n\r\nexport default function LoadingBox() {\r\n  return (\r\n    <Spinner animation=\"border\" role=\"status\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  );\r\n}\r\n","import { useReducer, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport logger from \"use-reducer-logger\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport Product from \"../components/Product\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true };\r\n    case \"FETCH_SUCCESS\":\r\n      return { ...state, products: action.payload, loading: false };\r\n    case \"FETCH_FAIL\":\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction HomeScreen() {\r\n  const [{ loading, error, products }, dispatch] = useReducer(logger(reducer), {\r\n    products: [],\r\n    loading: true,\r\n    error: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      dispatch({ type: \"FETCH_REQUEST\" });\r\n      try {\r\n        const result = await axios.get(\"/api/products\");\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\r\n      } catch (err) {\r\n        dispatch({ type: \"FETCH_FAIL\", payload: err.message });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Amazona</title>\r\n      </Helmet>\r\n      <h1>Featured Products</h1>\r\n      <div className=\"products\">\r\n        {loading ? (\r\n          <LoadingBox />\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <Row>\r\n            {products.map((product) => (\r\n              <Col key={product.slug} sm={6} md={4} lg={3} className=\"mb-3\">\r\n                <Product product={product}></Product>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomeScreen;\r\n","export const getError = (error) => {\r\n  return error.response && error.response.data.message\r\n    ? error.response.data.message\r\n    : error.message;\r\n};\r\n","import axios from \"axios\";\r\nimport { useContext, useEffect, useReducer } from \"react\";\r\nimport { Badge, Button, Card, Col, ListGroup, Row } from \"react-bootstrap\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport Rating from \"../components/Rating\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { getError } from \"../utils\";\r\nimport { Store } from \"../Store\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true };\r\n    case \"FETCH_SUCCESS\":\r\n      return { ...state, product: action.payload, loading: false };\r\n    case \"FETCH_FAIL\":\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction ProductScreen() {\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const { slug } = params;\r\n\r\n  const [{ loading, error, product }, dispatch] = useReducer(reducer, {\r\n    product: [],\r\n    loading: true,\r\n    error: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      dispatch({ type: \"FETCH_REQUEST\" });\r\n      try {\r\n        const result = await axios.get(`/api/products/slug/${slug}`);\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\r\n      } catch (err) {\r\n        dispatch({ type: \"FETCH_FAIL\", payload: getError(err) });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [slug]);\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { cart } = state;\r\n\r\n  const addToCartHandler = async () => {\r\n    const existItem = cart.cartItems.find((x) => x._id === product._id);\r\n    const quantity = existItem ? existItem.quantity + 1 : 1;\r\n    const { data } = await axios.get(`/api/products/${product._id}`);\r\n    if (data.countInStock < quantity) {\r\n      window.alert(\"Sorry. Product is out of stock\");\r\n      return;\r\n    }\r\n\r\n    ctxDispatch({\r\n      type: \"CART_ADD_ITEM\",\r\n      payload: { ...product, quantity },\r\n    });\r\n\r\n    navigate(\"/cart\");\r\n  };\r\n\r\n  return loading ? (\r\n    <LoadingBox />\r\n  ) : error ? (\r\n    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n  ) : (\r\n    <div>\r\n      <Row>\r\n        <Col md={6}>\r\n          <img className=\"img-large\" src={product.image} alt={product.name} />\r\n        </Col>\r\n        <Col md={3}>\r\n          <ListGroup variant=\"flush\">\r\n            <ListGroup.Item>\r\n              <Helmet>\r\n                <title>{product.name}</title>\r\n              </Helmet>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <Rating rating={product.rating} numReviews={product.numReviews} />\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>Price: ${product.price}</ListGroup.Item>\r\n            <ListGroup.Item>\r\n              Description: <p>{product.description}</p>\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card>\r\n            <Card.Body>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Price:</Col>\r\n                    <Col>${product.price}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Status:</Col>\r\n                    <Col>\r\n                      {product.countInStock > 0 ? (\r\n                        <Badge bg=\"success\">In Stock</Badge>\r\n                      ) : (\r\n                        <Badge bg=\"danger\">Unavailable</Badge>\r\n                      )}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                {product.countInStock > 0 && (\r\n                  <ListGroup.Item>\r\n                    <div className=\"d-grid\">\r\n                      <Button onClick={addToCartHandler} variant=\"primary\">\r\n                        Add to Cart\r\n                      </Button>\r\n                    </div>\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductScreen;\r\n","import Axios from \"axios\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Button, Container, Form } from \"react-bootstrap\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Store } from \"../Store\";\r\nimport { getError } from \"../utils\";\r\n\r\nexport default function SigninScreen() {\r\n  const navigate = useNavigate();\r\n\r\n  const { search } = useLocation();\r\n  const redirectInUrl = new URLSearchParams(search).get(\"redirect\");\r\n  const redirect = redirectInUrl ? redirectInUrl : \"/\";\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const { data } = await Axios.post(\"/api/users/signin\", {\r\n        email,\r\n        password,\r\n      });\r\n      ctxDispatch({ type: \"USER_SIGNIN\", payload: data });\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n      navigate(redirect || \"/\");\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      navigate(redirect);\r\n    }\r\n  }, [navigate, redirect, userInfo]);\r\n\r\n  return (\r\n    <Container className=\"small-container\">\r\n      <Helmet>\r\n        <title>Sign In</title>\r\n      </Helmet>\r\n      <h1 className=\"my-3\">Sign In</h1>\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group className=\"mb-3\" controlId=\"email\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <div className=\"mb-3\">\r\n          <Button type=\"submit\">Sign In</Button>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          New customer?{\" \"}\r\n          <Link to={`/signup?redirect=${redirect}`}>Create your account</Link>\r\n        </div>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nexport default function CheckoutSteps(props) {\r\n  return (\r\n    <Row className=\"checkout-steps\">\r\n      <Col className={props.step1 ? \"active\" : \"\"}>Sign-In</Col>\r\n      <Col className={props.step2 ? \"active\" : \"\"}>Shipping</Col>\r\n      <Col className={props.step3 ? \"active\" : \"\"}>Payment</Col>\r\n      <Col className={props.step4 ? \"active\" : \"\"}>Place Order</Col>\r\n    </Row>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Store } from \"../Store\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\n\r\nexport default function ShippingAddressScreen() {\r\n  const navigate = useNavigate();\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const {\r\n    userInfo,\r\n    cart: { shippingAddress },\r\n  } = state;\r\n\r\n  const [fullName, setFullName] = useState(shippingAddress.fullName || \"\");\r\n  const [address, setAddress] = useState(shippingAddress.address || \"\");\r\n  const [city, setCity] = useState(shippingAddress.city || \"\");\r\n  const [postalCode, setPostalCode] = useState(\r\n    shippingAddress.postalCode || \"\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      navigate(\"/signin?redirect=/shipping\");\r\n    }\r\n  }, [userInfo, navigate]);\r\n\r\n  const [country, setCountry] = useState(shippingAddress.country || \"\");\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    ctxDispatch({\r\n      type: \"SAVE_SHIPPING_ADDRESS\",\r\n      payload: {\r\n        fullName,\r\n        address,\r\n        city,\r\n        postalCode,\r\n        country,\r\n      },\r\n    });\r\n\r\n    localStorage.setItem(\r\n      \"shippingAddress\",\r\n      JSON.stringify({\r\n        fullName,\r\n        address,\r\n        city,\r\n        postalCode,\r\n        country,\r\n      })\r\n    );\r\n    navigate(\"/payment\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Shipping Address</title>\r\n      </Helmet>\r\n\r\n      <CheckoutSteps step1 step2></CheckoutSteps>\r\n      <div className=\"container small-container\">\r\n        <h1 className=\"my-3\">Shipping Address</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group className=\"mb-3\" controlId=\"fullName\">\r\n            <Form.Label>Full Name</Form.Label>\r\n            <Form.Control\r\n              value={fullName}\r\n              onChange={(e) => setFullName(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"address\">\r\n            <Form.Label>Address</Form.Label>\r\n            <Form.Control\r\n              value={address}\r\n              onChange={(e) => setAddress(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"city\">\r\n            <Form.Label>City</Form.Label>\r\n            <Form.Control\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"postalCode\">\r\n            <Form.Label>Postal Code</Form.Label>\r\n            <Form.Control\r\n              value={postalCode}\r\n              onChange={(e) => setPostalCode(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"country\">\r\n            <Form.Label>Country</Form.Label>\r\n            <Form.Control\r\n              value={country}\r\n              onChange={(e) => setCountry(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <div className=\"mb-3\">\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              Continue\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Axios from \"axios\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Store } from \"../Store\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getError } from \"../utils\";\r\n\r\nexport default function SignupScreen() {\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const redirectInUrl = new URLSearchParams(search).get(\"redirect\");\r\n  const redirect = redirectInUrl ? redirectInUrl : \"/\";\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { userInfo } = state;\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      toast.error(\"Passwords do not match\");\r\n      return;\r\n    }\r\n    try {\r\n      const { data } = await Axios.post(\"/api/users/signup\", {\r\n        name,\r\n        email,\r\n        password,\r\n      });\r\n      ctxDispatch({ type: \"USER_SIGNIN\", payload: data });\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n      navigate(redirect || \"/\");\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      navigate(redirect);\r\n    }\r\n  }, [navigate, redirect, userInfo]);\r\n\r\n  return (\r\n    <Container className=\"small-container\">\r\n      <Helmet>\r\n        <title>Sign Up</title>\r\n      </Helmet>\r\n      <h1 className=\"my-3\">Sign Up</h1>\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group className=\"mb-3\" controlId=\"name\">\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control onChange={(e) => setName(e.target.value)} required />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\" controlId=\"email\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <Form.Group className=\"mb-3\" controlId=\"confirmPassword\">\r\n            <Form.Label>Confirm Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n        </Form.Group>\r\n        <div className=\"mb-3\">\r\n          <Button type=\"submit\">Sign Up</Button>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          Already have an account?{\" \"}\r\n          <Link to={`/signin?redirect=${redirect}`}>Sign-In</Link>\r\n        </div>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\nimport { Store } from \"../Store\";\r\n\r\nexport default function PaymentMethodScreen() {\r\n  const navigate = useNavigate();\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const {\r\n    cart: { shippingAddress, paymentMethod },\r\n  } = state;\r\n\r\n  const [paymentMethodName, setPaymentMethod] = useState(\r\n    paymentMethod || \"PayPal\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!shippingAddress.address) {\r\n      navigate(\"/shipping\");\r\n    }\r\n  }, [shippingAddress, navigate]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    ctxDispatch({ type: \"SAVE_PAYMENT_METHOD\", payload: paymentMethodName });\r\n    localStorage.setItem(\"paymentMethod\", paymentMethodName);\r\n    navigate(\"/placeorder\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n      <div className=\"container small-container\">\r\n        <Helmet>\r\n          <title>Payment Method</title>\r\n        </Helmet>\r\n        <h1 className=\"my-3\">Payment Method</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          <div className=\"mb-3\">\r\n            <Form.Check\r\n              type=\"radio\"\r\n              id=\"PayPal\"\r\n              label=\"PayPal\"\r\n              value=\"PayPal\"\r\n              checked={paymentMethodName === \"PayPal\"}\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <Form.Check\r\n              type=\"radio\"\r\n              id=\"Stripe\"\r\n              label=\"Stripe\"\r\n              value=\"Stripe\"\r\n              checked={paymentMethodName === \"Stripe\"}\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <Button type=\"submit\">Continue</Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { Store } from \"../Store\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getError } from \"../utils\";\r\nimport Axios from \"axios\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"CREATE_REQUEST\":\r\n      return { ...state, loading: true };\r\n    case \"CREATE_SUCCESS\":\r\n      return { ...state, loading: false };\r\n    case \"CREATE_FAIL\":\r\n      return { ...state, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function PlaceOrderScreen() {\r\n  const navigate = useNavigate();\r\n\r\n  const [{ loading }, dispatch] = useReducer(reducer, {\r\n    loading: false,\r\n  });\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { cart, userInfo } = state;\r\n\r\n  const round2 = (num) => Math.round(num * 100 + Number.EPSILON) / 100; // 123.2345 => 123.23\r\n  cart.itemsPrice = round2(\r\n    cart.cartItems.reduce((a, c) => a + c.quantity * c.price, 0)\r\n  );\r\n  cart.shippingPrice = cart.itemsPrice > 100 ? round2(0) : round2(10);\r\n  cart.taxPrice = round2(0.15 * cart.itemsPrice);\r\n  cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\r\n\r\n  const placeOrderHandler = async () => {\r\n    try {\r\n      dispatch({ type: \"CREATE_REQUEST\" });\r\n\r\n      const { data } = await Axios.post(\r\n        \"/api/orders\",\r\n        {\r\n          orderItems: cart.cartItems,\r\n          shippingAddress: cart.shippingAddress,\r\n          paymentMethod: cart.paymentMethod,\r\n          itemsPrice: cart.itemsPrice,\r\n          shippingPrice: cart.shippingPrice,\r\n          taxPrice: cart.taxPrice,\r\n          totalPrice: cart.totalPrice,\r\n        },\r\n        {\r\n          headers: {\r\n            authorization: `Bearer ${userInfo.token}`,\r\n          },\r\n        }\r\n      );\r\n      ctxDispatch({ type: \"CART_CLEAR\" });\r\n      dispatch({ type: \"CREATE_SUCCESS\" });\r\n      localStorage.removeItem(\"cartItems\");\r\n      navigate(`/order/${data.order._id}`);\r\n    } catch (err) {\r\n      dispatch({ type: \"CREATE_FAIL\" });\r\n      toast.error(getError(err));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!cart.paymentMethod) {\r\n      navigate(\"/payment\");\r\n    }\r\n  }, [cart, navigate]);\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3 step4></CheckoutSteps>\r\n      <Helmet>\r\n        <title>Preview Order</title>\r\n      </Helmet>\r\n      <h1 className=\"my-3\">Preview Order</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Shipping</Card.Title>\r\n              <Card.Text>\r\n                <strong>Name:</strong> {cart.shippingAddress.fullName} <br />\r\n                <strong>Address: </strong> {cart.shippingAddress.address},\r\n                {cart.shippingAddress.city}, {cart.shippingAddress.postalCode},\r\n                {cart.shippingAddress.country}\r\n              </Card.Text>\r\n              <Link to=\"/shipping\">Edit</Link>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Payment</Card.Title>\r\n              <Card.Text>\r\n                <strong>Method:</strong> {cart.paymentMethod}\r\n              </Card.Text>\r\n              <Link to=\"/payment\">Edit</Link>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Items</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                {cart.cartItems.map((item) => (\r\n                  <ListGroup.Item key={item._id}>\r\n                    <Row className=\"align-items-center\">\r\n                      <Col md={6}>\r\n                        <img\r\n                          src={item.image}\r\n                          alt={item.name}\r\n                          className=\"img-fluid rounded img-thumbnail\"\r\n                        ></img>{\" \"}\r\n                        <Link to={`/product/${item.slug}`}>{item.name}</Link>\r\n                      </Col>\r\n                      <Col md={3}>\r\n                        <span>{item.quantity}</span>\r\n                      </Col>\r\n                      <Col md={3}>${item.price}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                ))}\r\n              </ListGroup>\r\n              <Link to=\"/cart\">Edit</Link>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Order Summary</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Items</Col>\r\n                    <Col>${cart.itemsPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Shipping</Col>\r\n                    <Col>${cart.shippingPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Tax</Col>\r\n                    <Col>${cart.taxPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>\r\n                      <strong> Order Total</strong>\r\n                    </Col>\r\n                    <Col>\r\n                      <strong>${cart.totalPrice.toFixed(2)}</strong>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <div className=\"d-grid\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      onClick={placeOrderHandler}\r\n                      disabled={cart.cartItems.length === 0}\r\n                    >\r\n                      Place Order\r\n                    </Button>\r\n                  </div>\r\n                  {loading && <LoadingBox></LoadingBox>}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useContext, useEffect, useReducer } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { Store } from \"../Store\";\r\nimport { getError } from \"../utils\";\r\nimport { PayPalButtons, usePayPalScriptReducer } from \"@paypal/react-paypal-js\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true, error: \"\" };\r\n    case \"FETCH_SUCCESS\":\r\n      return { ...state, loading: false, order: action.payload, error: \"\" };\r\n    case \"FETCH_FAIL\":\r\n      return { ...state, loading: false, error: action.payload };\r\n\r\n    case \"PAY_REQUEST\":\r\n      return { ...state, loadingPay: true };\r\n    case \"PAY_SUCCESS\":\r\n      return { ...state, loadingPay: false, successPay: true };\r\n    case \"PAY_FAIL\":\r\n      return { ...state, loadingPay: false };\r\n    case \"PAY_RESET\":\r\n      return { ...state, loadingPay: false, successPay: false };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default function OrderScreen() {\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  const params = useParams();\r\n  const { id: orderId } = params;\r\n  const navigate = useNavigate();\r\n\r\n  const [{ loading, error, order, successPay, loadingPay }, dispatch] =\r\n    useReducer(reducer, {\r\n      loading: true,\r\n      order: {},\r\n      error: \"\",\r\n      successPay: false,\r\n      loadingPay: false,\r\n    });\r\n\r\n  const [{ isPending }, paypalDispatch] = usePayPalScriptReducer();\r\n\r\n  function createOrder(data, actions) {\r\n    return actions.order\r\n      .create({\r\n        purchase_units: [\r\n          {\r\n            amount: { value: order.totalPrice },\r\n          },\r\n        ],\r\n      })\r\n      .then((orderID) => {\r\n        return orderID;\r\n      });\r\n  }\r\n\r\n  function onApprove(data, actions) {\r\n    return actions.order.capture().then(async function (details) {\r\n      try {\r\n        dispatch({ type: \"PAY_REQUEST\" });\r\n        const { data } = await axios.put(\r\n          `/api/orders/${order._id}/pay`,\r\n          details,\r\n          {\r\n            headers: { authorization: `Bearer ${userInfo.token}` },\r\n          }\r\n        );\r\n        dispatch({ type: \"PAY_SUCCESS\", payload: data });\r\n        toast.success(\"Order is paid\");\r\n      } catch (err) {\r\n        dispatch({ type: \"PAY_FAIL\", payload: getError(err) });\r\n        toast.error(getError(err));\r\n      }\r\n    });\r\n  }\r\n\r\n  function onError(err) {\r\n    toast.error(getError(err));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchOrder = async () => {\r\n      try {\r\n        dispatch({ type: \"FETCH_REQUEST\" });\r\n        const { data } = await axios.get(`/api/orders/${orderId}`, {\r\n          headers: { authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: data });\r\n      } catch (err) {\r\n        dispatch({ type: \"FETCH_FAIL\", payload: getError(err) });\r\n      }\r\n    };\r\n\r\n    if (!userInfo) {\r\n      return navigate(\"/login\");\r\n    }\r\n    if (!order._id || successPay || (order._id && order._id !== orderId)) {\r\n      fetchOrder();\r\n\r\n      if (successPay) {\r\n        dispatch({ type: \"PAY_RESET\" });\r\n      }\r\n    } else {\r\n      const loadPaypalScript = async () => {\r\n        const { data: clientId } = await axios.get(\"/api/keys/paypal\", {\r\n          headers: { authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        paypalDispatch({\r\n          type: \"resetOptions\",\r\n          value: {\r\n            \"client-id\": clientId,\r\n            currency: \"USD\",\r\n          },\r\n        });\r\n        paypalDispatch({ type: \"setLoadingStatus\", value: \"pending\" });\r\n      };\r\n      loadPaypalScript();\r\n    }\r\n  }, [order, userInfo, orderId, navigate, paypalDispatch, successPay]);\r\n\r\n  return loading ? (\r\n    <LoadingBox></LoadingBox>\r\n  ) : error ? (\r\n    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n  ) : (\r\n    <div>\r\n      <Helmet>\r\n        <title>Order {orderId}</title>\r\n      </Helmet>\r\n      <h1 className=\"my-3\">Order {orderId}</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Shipping</Card.Title>\r\n              <Card.Text>\r\n                <strong>Name:</strong> {order.shippingAddress.fullName} <br />\r\n                <strong>Address: </strong> {order.shippingAddress.address},\r\n                {order.shippingAddress.city}, {order.shippingAddress.postalCode}\r\n                ,{order.shippingAddress.country}\r\n              </Card.Text>\r\n              {order.isDelivered ? (\r\n                <MessageBox variant=\"success\">\r\n                  Delivered at {order.deliveredAt}\r\n                </MessageBox>\r\n              ) : (\r\n                <MessageBox variant=\"danger\">Not Delivered</MessageBox>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Payment</Card.Title>\r\n              <Card.Text>\r\n                <strong>Method:</strong> {order.paymentMethod}\r\n              </Card.Text>\r\n              {order.isPaid ? (\r\n                <MessageBox variant=\"success\">\r\n                  Paid at {order.paidAt}\r\n                </MessageBox>\r\n              ) : (\r\n                <MessageBox variant=\"danger\">Not Paid</MessageBox>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Items</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                {order.orderItems.map((item) => (\r\n                  <ListGroup.Item key={item._id}>\r\n                    <Row className=\"align-items-center\">\r\n                      <Col md={6}>\r\n                        <img\r\n                          src={item.image}\r\n                          alt={item.name}\r\n                          className=\"img-fluid rounded img-thumbnail\"\r\n                        ></img>{\" \"}\r\n                        <Link to={`/product/${item.slug}`}>{item.name}</Link>\r\n                      </Col>\r\n                      <Col md={3}>\r\n                        <span>{item.quantity}</span>\r\n                      </Col>\r\n                      <Col md={3}>${item.price}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                ))}\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Order Summary</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Items</Col>\r\n                    <Col>${order.itemsPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Shipping</Col>\r\n                    <Col>${order.shippingPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Tax</Col>\r\n                    <Col>${order.taxPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>\r\n                      <strong> Order Total</strong>\r\n                    </Col>\r\n                    <Col>\r\n                      <strong>${order.totalPrice.toFixed(2)}</strong>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                {!order.isPaid && (\r\n                  <ListGroup.Item>\r\n                    {isPending ? (\r\n                      <LoadingBox />\r\n                    ) : (\r\n                      <div>\r\n                        <PayPalButtons\r\n                          createOrder={createOrder}\r\n                          onApprove={onApprove}\r\n                          onError={onError}\r\n                        ></PayPalButtons>\r\n                      </div>\r\n                    )}\r\n                    {loadingPay && <LoadingBox></LoadingBox>}\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { Store } from \"../Store\";\r\nimport { getError } from \"../utils\";\r\nimport Button from \"react-bootstrap/esm/Button\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true };\r\n    case \"FETCH_SUCCESS\":\r\n      return { ...state, orders: action.payload, loading: false };\r\n    case \"FETCH_FAIL\":\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function OrderHistoryScreen() {\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n  const navigate = useNavigate();\r\n\r\n  const [{ loading, error, orders }, dispatch] = useReducer(reducer, {\r\n    loading: true,\r\n    error: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      dispatch({ type: \"FETCH_REQUEST\" });\r\n      try {\r\n        const { data } = await axios.get(\r\n          `/api/orders/mine`,\r\n\r\n          { headers: { Authorization: `Bearer ${userInfo.token}` } }\r\n        );\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: data });\r\n      } catch (error) {\r\n        dispatch({\r\n          type: \"FETCH_FAIL\",\r\n          payload: getError(error),\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [userInfo]);\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Order History</title>\r\n      </Helmet>\r\n\r\n      <h1>Order History</h1>\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>PAID</th>\r\n              <th>DELIVERED</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map((order) => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.createdAt.substring(0, 10)}</td>\r\n                <td>{order.totalPrice.toFixed(2)}</td>\r\n                <td>{order.isPaid ? order.paidAt.substring(0, 10) : \"No\"}</td>\r\n                <td>\r\n                  {order.isDelivered\r\n                    ? order.deliveredAt.substring(0, 10)\r\n                    : \"No\"}\r\n                </td>\r\n                <td>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"light\"\r\n                    onClick={() => {\r\n                      navigate(`/order/${order._id}`);\r\n                    }}\r\n                  >\r\n                    Details\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useReducer, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { Store } from \"../Store\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getError } from \"../utils\";\r\nimport axios from \"axios\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"UPDATE_REQUEST\":\r\n      return { ...state, loadingUpdate: true };\r\n    case \"UPDATE_SUCCESS\":\r\n      return { ...state, loadingUpdate: false };\r\n    case \"UPDATE_FAIL\":\r\n      return { ...state, loadingUpdate: false };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function ProfileScreen() {\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { userInfo } = state;\r\n  const [name, setName] = useState(userInfo.name);\r\n  const [email, setEmail] = useState(userInfo.email);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n  const [{ loadingUpdate }, dispatch] = useReducer(reducer, {\r\n    loadingUpdate: false,\r\n  });\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const { data } = await axios.put(\r\n        \"/api/users/profile\",\r\n        {\r\n          name,\r\n          email,\r\n          password,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        }\r\n      );\r\n      dispatch({\r\n        type: \"UPDATE_SUCCESS\",\r\n      });\r\n      ctxDispatch({ type: \"USER_SIGNIN\", payload: data });\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n      toast.success(\"User updated successfully\");\r\n    } catch (err) {\r\n      dispatch({\r\n        type: \"FETCH_FAIL\",\r\n      });\r\n      toast.error(getError(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container small-container\">\r\n      <Helmet>\r\n        <title>User Profile</title>\r\n      </Helmet>\r\n      <h1 className=\"my-3\">User Profile</h1>\r\n      <form onSubmit={submitHandler}>\r\n        <Form.Group className=\"mb-3\" controlId=\"name\">\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"name\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"password\">\r\n          <Form.Label>Confirm Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <div className=\"mb-3\">\r\n          <Button type=\"submit\">Update</Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Badge, Container, Nav, Navbar, NavDropdown } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { BrowserRouter, Link, Route, Routes } from \"react-router-dom\";\r\nimport CartScreen from \"./screens/CartScreen\";\r\nimport HomeScreen from \"./screens/HomeScreen\";\r\nimport ProductScreen from \"./screens/ProductScreen\";\r\nimport SigninScreen from \"./screens/SigninScreen\";\r\nimport { Store } from \"./Store\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport ShippingAddressScreen from \"./screens/ShippingAddressScreen\";\r\nimport SignupScreen from \"./screens/SignupScreen\";\r\nimport PaymentMethodScreen from \"./screens/PaymentMethodScreen\";\r\nimport PlaceOrderScreen from \"./screens/PlaceOrderScreen\";\r\nimport OrderScreen from \"./screens/OrderScreen\";\r\nimport OrderHistoryScreen from \"./screens/OrderHistoryScreen\";\r\nimport ProfileScreen from \"./screens/ProfileScreen\";\r\n\r\nfunction App() {\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { cart, userInfo } = state;\r\n\r\n  const signoutHandler = () => {\r\n    ctxDispatch({ type: \"USER_SIGNOUT\" });\r\n\r\n    localStorage.removeItem(\"userInfo\");\r\n    localStorage.removeItem(\"shippingAddress\");\r\n    localStorage.removeItem(\"paymentMethod\");\r\n\r\n    window.location.href = \"/signin\";\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"d-flex flex-column site-container\">\r\n        <ToastContainer position=\"bottom-center\" limit={1} />\r\n        <header>\r\n          <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n            <Container>\r\n              <LinkContainer to=\"/\">\r\n                <Navbar.Brand>amazona</Navbar.Brand>\r\n              </LinkContainer>\r\n              <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n              <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                <Nav className=\"me-auto w-100 justify-content-end\">\r\n                  <Link to=\"/cart\" className=\"nav-link\">\r\n                    Cart\r\n                    {cart.cartItems.length > 0 && (\r\n                      <Badge pill bg=\"danger\">\r\n                        {cart.cartItems.reduce((a, c) => a + c.quantity, 0)}\r\n                      </Badge>\r\n                    )}\r\n                  </Link>\r\n                  {userInfo ? (\r\n                    <NavDropdown title={userInfo.name} id=\"basic-nav-dropdown\">\r\n                      <LinkContainer to=\"/profile\">\r\n                        <NavDropdown.Item>User Profile</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/orderhistory\">\r\n                        <NavDropdown.Item>Order History</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <NavDropdown.Divider />\r\n                      <Link\r\n                        className=\"dropdown-item\"\r\n                        to=\"#signout\"\r\n                        onClick={signoutHandler}\r\n                      >\r\n                        Sign Out\r\n                      </Link>\r\n                    </NavDropdown>\r\n                  ) : (\r\n                    <Link className=\"nav-link\" to=\"/signin\">\r\n                      Sign In\r\n                    </Link>\r\n                  )}\r\n                </Nav>\r\n              </Navbar.Collapse>\r\n            </Container>\r\n          </Navbar>\r\n        </header>\r\n        <main>\r\n          <Container className=\"mt-3\">\r\n            <Routes>\r\n              <Route path=\"/product/:slug\" element={<ProductScreen />} />\r\n              <Route path=\"/cart\" element={<CartScreen />} />\r\n              <Route path=\"/signin\" element={<SigninScreen />} />\r\n              <Route path=\"/signup\" element={<SignupScreen />} />\r\n              <Route path=\"/profile\" element={<ProfileScreen />} />\r\n              <Route path=\"/placeorder\" element={<PlaceOrderScreen />} />\r\n              <Route path=\"/order/:id\" element={<OrderScreen />} />\r\n              <Route path=\"/orderhistory\" element={<OrderHistoryScreen />} />\r\n              <Route path=\"/shipping\" element={<ShippingAddressScreen />} />\r\n              <Route path=\"/payment\" element={<PaymentMethodScreen />} />\r\n              <Route path=\"/\" element={<HomeScreen />} />\r\n            </Routes>\r\n          </Container>\r\n        </main>\r\n        <footer>\r\n          <div className=\"text-center\">All rights reserved</div>\r\n        </footer>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { HelmetProvider } from \"react-helmet-async\";\r\nimport { StoreProvider } from \"./Store\";\r\nimport { PayPalScriptProvider } from \"@paypal/react-paypal-js\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StoreProvider>\r\n      <HelmetProvider>\r\n        <PayPalScriptProvider deferLoading={true}>\r\n          <App />\r\n        </PayPalScriptProvider>\r\n      </HelmetProvider>\r\n    </StoreProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}